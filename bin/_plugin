#!/bin/bash


# Install a plugin
if [[ $1 == "add" ]]
then
	ln -s /etc/easyckan/plugins/$2.sh /etc/ckan/easyckan/plugins/$2.sh
	echo "added"
	exit
fi

# Remove a plugin
if [[ $1 == "remove" ]]
then
	rm -f /etc/ckan/easyckan/plugins/$2.sh
	echo "removed"
	exit
fi

echo "Not avaliable yet..."
exit


if [[ $1 == "" ]]
then
	echo "You must need to enter an argument:"
	echo "Examples:"
	echo "  sudo easyckan plugin install <plugin_name>"
	echo "  sudo easyckan plugin harvest sources"
fi


# Install a plugin
if [[ $1 == "install" ]]
then
	if [ -f /etc/easyckan/src/plugins/ckan_plugin_$2.sh ]; then
		/etc/easyckan/src/plugins/ckan_plugin_$2.sh
	else
		
		# Install all plugins
		if [[ $2 == "--all" ]]
		then
			for file in /etc/easyckan/src/plugins/*
			do
			  $file
			done
		
		# Not found
		else
	    	echo "File not found!"
	    fi
	fi
fi